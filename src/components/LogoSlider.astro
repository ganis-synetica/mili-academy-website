---
// Logo slider with infinite scroll effect
interface Props {
  title?: string;
  direction?: 'forward' | 'reverse';
}

const { title = "Trusted by leading companies", direction = 'forward' } = Astro.props;

// Placeholder company logos (mimicking real company names)
const logos = [
  { name: "Acme Corp", width: 100 },
  { name: "TechFlow", width: 90 },
  { name: "DataSync", width: 100 },
  { name: "CloudBase", width: 95 },
  { name: "Innovate", width: 85 },
  { name: "NextGen", width: 90 },
  { name: "Stellar", width: 80 },
  { name: "Momentum", width: 105 },
  { name: "Apex Inc", width: 95 },
  { name: "Zenith", width: 80 },
];
---

<div class="logo-slider-container">
  {title && <p class="slider-title">{title}</p>}
  
  <div class="slider-wrapper">
    <div class="gradient-left"></div>
    <div class={`slider-track ${direction === 'reverse' ? 'slider-track-reverse' : 'slider-track-forward'}`}>
      {/* Duplicate logos for seamless loop */}
      {[...logos, ...logos].map((logo) => (
        <div class="logo-item">
          <div class="logo-placeholder" style={`width: ${logo.width}px;`}>
            <span>{logo.name}</span>
          </div>
        </div>
      ))}
    </div>
    <div class="gradient-right"></div>
  </div>
</div>

<style>
  .logo-slider-container {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  
  .slider-title {
    margin: 0 0 1rem;
    font-family: 'Plus Jakarta Sans', sans-serif;
    font-size: 1.125rem;
    font-weight: 300;
    line-height: 1.568;
    color: #000;
    text-align: center;
  }
  
  .slider-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
  }
  
  .slider-track {
    display: flex;
    gap: 47px;
    align-items: center;
    will-change: transform;
  }
  
  .slider-track-forward {
    animation: scrollForward 30s linear infinite;
  }
  
  .slider-track-reverse {
    animation: scrollReverse 30s linear infinite;
  }
  
  @keyframes scrollForward {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }
  
  @keyframes scrollReverse {
    0% {
      transform: translateX(-50%);
    }
    100% {
      transform: translateX(0);
    }
  }
  
  .slider-track:hover {
    animation-play-state: paused;
  }
  
  .logo-item {
    flex-shrink: 0;
    height: 76px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .logo-placeholder {
    height: 40px;
    background: #f0f0f0;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    filter: grayscale(100%) opacity(0.6);
    transition: filter 0.3s ease;
    padding: 0 16px;
  }
  
  .logo-placeholder span {
    font-size: 11px;
    color: #888;
    white-space: nowrap;
  }
  
  .logo-item:hover .logo-placeholder {
    filter: grayscale(0%) opacity(1);
  }
  
  .gradient-left,
  .gradient-right {
    position: absolute;
    top: 0;
    bottom: 0;
    width: clamp(50px, 10vw, 100px);
    pointer-events: none;
    z-index: 2;
  }
  
  .gradient-left {
    left: 0;
    background: linear-gradient(to right, #fff, transparent);
  }
  
  .gradient-right {
    right: 0;
    background: linear-gradient(to left, #fff, transparent);
  }
  
  @media (max-width: 768px) {
    .logo-item {
      height: 60px;
    }
    
    .logo-placeholder {
      height: 32px;
    }
    
    .slider-track {
      gap: 30px;
    }
    
    .slider-track-forward,
    .slider-track-reverse {
      animation-duration: 20s;
    }
  }
</style>
